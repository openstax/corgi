.. _operations-select-code-version-tag:

#######################
Select Code Version Tag
#######################

Docker Image Tags are autogenerated when code is merged to a CORGI-related repository,
the change triggers the `ce-image-autotag concourse pipeline <https://concourse-v6.openstax.org/teams/CE/pipelines/ce-image-autotag>`_.

To Find a Tag:

   - Go to the `ce-image-autotag concourse pipeline <https://concourse-v6.openstax.org/teams/CE/pipelines/ce-image-autotag>`_.
   - Click into the 'build-and-push-images' job.
   - Click on a job number (Defaults to the latest job)
   - Click on ``report-versions-and-create-tag`` task

   You will see output similar to the following which prints out the generated tag value:

   .. code-block:: bash

      ...
      + git '--git-dir=source-code-nebuchadnezzar/.git' rev-parse --short HEAD
      + git '--git-dir=source-code-output-producer-service/.git' rev-parse --short HEAD
      + git '--git-dir=source-code-cnx-easybake/.git' rev-parse --short HEAD
      + git '--git-dir=source-code-mathify/.git' rev-parse --short HEAD
      + git '--git-dir=source-code-princexml/.git' rev-parse --short HEAD
      + git '--git-dir=source-code-output-producer-resource/.git' rev-parse --short HEAD
      + git '--git-dir=source-code-cnx-recipes/.git' describe
      + git '--git-dir=source-code-xhtml-validator/.git' rev-parse --short HEAD
      + date '+%Y%m%d.%H%M%S'
      + tag=20200612.204804
      + echo 20200612.204804
      + echo master
      + echo trunk

   .. note::

      Above Example Shows:

         - **Tag**: ``20200612.204804``

   - Copy selected Tag: ``20200612.204804``